"use strict";const e=require("electron"),s=require("path");process.env.DIST=s.join(__dirname,"../dist");process.env.VITE_PUBLIC=e.app.isPackaged?process.env.DIST:s.join(__dirname,"../public");let o;const r=()=>{if(o=new e.BrowserWindow({width:800,height:600,fullscreen:!0,frame:!1,kiosk:!0,webPreferences:{preload:s.join(__dirname,"preload.js"),nodeIntegration:!0,contextIsolation:!1}}),console.log("__dirname:",__dirname),console.log("process.env.DIST:",process.env.DIST),console.log("app.isPackaged:",e.app.isPackaged),console.log("process.resourcesPath:",process.resourcesPath),process.env.VITE_DEV_SERVER_URL)o.loadURL(process.env.VITE_DEV_SERVER_URL),console.log("Loading dev server:",process.env.VITE_DEV_SERVER_URL);else{const n=s.join(process.env.DIST,"index.html");console.log("Loading file:",n),o.loadFile(n)}e.app.isPackaged||o.webContents.openDevTools()};e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()});e.app.whenReady().then(r);
